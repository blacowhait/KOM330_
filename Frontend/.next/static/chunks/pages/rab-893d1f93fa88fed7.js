(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[651],{6489:function(e,t){"use strict";t.Q=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var i={},s=t||{},o=e.split(";"),a=s.decode||n,c=0;c<o.length;c++){var l=o[c],d=l.indexOf("=");if(!(d<0)){var h=l.substring(0,d).trim();if(void 0==i[h]){var u=l.substring(d+1,l.length).trim();'"'===u[0]&&(u=u.slice(1,-1)),i[h]=r(u,a)}}}return i},t.q=function(e,t,n){var r=n||{},o=r.encode||i;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");var a=o(t);if(a&&!s.test(a))throw new TypeError("argument val is invalid");var c=e+"="+a;if(null!=r.maxAge){var l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(r.domain){if(!s.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(c+="; HttpOnly");r.secure&&(c+="; Secure");if(r.sameSite){switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var n=decodeURIComponent,i=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(e,t){try{return t(e)}catch(n){return e}}},9314:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rab",function(){return n(8375)}])},8010:function(e,t,n){"use strict";var i=n(5893),s=(n(7294),n(1664)),r=n.n(s),o=n(5885),a=(n(6489),n(1163)),c=new o.Z;t.Z=function(e){var t=e.title,n=e.dept,s=(0,a.useRouter)();return(0,i.jsxs)("nav",{className:"w-screen absolute flex flex-row justify-between py-6 px-14 z-50",children:[(0,i.jsx)("span",{className:"text-3xl font-semibold drop-shadow-lg",children:t}),(0,i.jsx)("span",{id:"index",className:"w-full absolute flex justify-center",children:(0,i.jsx)(r(),{href:"/",children:(0,i.jsx)("button",{children:(0,i.jsx)("img",{id:"logo",src:"/img/logo.png",className:"w-25 h-16 "})})})}),(0,i.jsxs)("span",{className:"w-auto flex flex-cols gap-5",children:[(0,i.jsxs)("span",{className:"w-auto flex justify-end self-center",children:[(0,i.jsx)("span",{id:"clone",className:"bg-red-800 w-auto h-12 my-2 px-5 absolute -mt-0.5 rounded-xl overflow-hidden",children:(0,i.jsx)("span",{id:"dept",className:"uppercase font-semibold self-center text-red-800",children:"bph"===n?"Bendahara Umum":n})}),(0,i.jsx)("span",{id:"real",className:"drop-shadow flex justify-center self-end w-auto h-12 my-2 px-5 bg-white grid rounded-xl ",children:(0,i.jsx)("span",{id:"dept",className:"uppercase font-semibold self-center z-40",children:"bph"===n?"Bendahara Umum":n})})]}),(0,i.jsx)("span",{id:"iconLogin",className:"w-14 flex items-center ",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-14 h-14 fill-red-800 -mt-2",children:(0,i.jsx)("path",{"fill-rule":"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z","clip-rule":"evenodd"})})}),(0,i.jsx)("button",{id:"logout",onClick:function(){c.remove("token"),c.remove("user"),c.remove("dept"),c.remove("id"),s.push("/auth/login")},className:"w-auto flex justify-end self-center",children:(0,i.jsx)("span",{id:"real",className:"drop-shadow flex justify-center self-end w-auto h-12 my-2 px-5 bg-white grid rounded-xl ",children:(0,i.jsx)("span",{className:"uppercase font-semibold self-center z-40",children:"Logout"})})})]})]})}},8375:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return f}});var i=n(5893),s=n(7294),r=n(9008),o=n.n(r),a=n(8010),c=n(1664),l=n.n(c),d=n(5885),h=n(1163),u=new d.Z;var f=!0;t.default=function(e){var t=e.data,n=e.ck,r=e.dept,c=(0,h.useRouter)(),d=(0,s.useState)(!1),f=(d[0],d[1]);return(0,s.useEffect)((function(){f(!0)}),[]),(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:"Kelengkapan Rab"}),(0,i.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"})]}),(0,i.jsx)(a.Z,{title:"Kelengkapan RAB",dept:r}),(0,i.jsx)("main",{className:"container flex flex-col justify-center items-center h-screen",children:(0,i.jsx)("section",{className:"bg-gray-100 w-2/3 h-auto min-h-[50%] p-3 rounded-lg drop-shadow-lg ",children:(0,i.jsxs)("table",{className:"w-full h-auto",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"No."}),(0,i.jsx)("th",{children:"Nama Proker"}),"bph"===r?(0,i.jsx)("th",{children:"Departemen"}):"",(0,i.jsx)("th",{children:"Tanggal Upload"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Komen"}),(0,i.jsx)("th",{children:"Download"}),"bph"===r?(0,i.jsx)("th",{children:"Edit"}):""]})}),(0,i.jsxs)("tbody",{id:"body",className:"text-center align-top self-start",children:[t.map((function(e,t){var s=new Date("".concat(e.createdAt));return(0,i.jsxs)("tr",{id:"item",children:[(0,i.jsx)("td",{children:t+1}),(0,i.jsx)("td",{children:e.name}),"bph"===r?(0,i.jsx)("td",{children:e.div}):"",(0,i.jsx)("td",{children:s.toLocaleDateString()}),(0,i.jsx)("td",{id:"status",children:e.status}),(0,i.jsx)("td",{id:"comment",children:e.comment}),(0,i.jsx)("td",{className:"text-lg px-3 ",children:(0,i.jsx)("button",{onClick:function(){return t=e._id,void fetch("http://localhost:3001/api/home/rab/download/"+t,{method:"GET",headers:{Authorization:"Bearer ".concat(n.token)}}).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(e);window.location.assign(t)}));var t},className:"fa fa-download"})}),"bph"===r?(0,i.jsx)("td",{className:"text-lg px-3 ",children:(0,i.jsx)("button",{id:"edit",onClick:function(){return t=e._id,u.set("id",t),void c.push("/rab/revisi");var t},className:"fa fa-edit"})}):""]},t)})),"bph"!==r?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{children:(0,i.jsx)(l(),{href:"/rab/upload",children:(0,i.jsx)("button",{className:"bg-gray-500 px-2 text-white",children:"+"})})})}):""]})]})})}),(0,i.jsx)("script",{src:"https://cdn.tailwindcss.com"})]})}},9008:function(e,t,n){e.exports=n(5443)},5885:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(6489);function s(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(i){}return e}var r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)},o=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?i.Q(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=i.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),s(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var i in this.cookies)n[i]=s(this.cookies[i],e);return n},e.prototype.set=function(e,t,n){var s;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=r(r({},this.cookies),((s={})[e]=t,s)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=i.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=r(r({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=r({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=i.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}()}},function(e){e.O(0,[774,424,888,179],(function(){return t=9314,e(e.s=t);var t}));var t=e.O();_N_E=t}]);